{"version":3,"sources":["components/filter.jsx","components/person.jsx","components/persons.jsx","components/notification.jsx","components/error.jsx","services/persons.js","App.js","index.js"],"names":["Filter","_ref","filterToApp","_useState","useState","_useState2","Object","slicedToArray","newFilter","setNewFilter","react_default","a","createElement","Fragment","value","onChange","event","target","Person","data","deletePerson","name","number","onClick","id","Persons","dataList","filter","deleteContact","person","toLowerCase","startsWith","map","components_person","key","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Notification","message","Error","baseUrl","services_persons","axios","get","then","response","newObject","post","put","concat","delete","App","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","notification","setNotification","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","PersonService","components_notification","error","components_filter","onSubmit","preventDefault","find","undefined","window","confirm","changedPerson","objectSpread","returnedPerson","setTimeout","catch","type","components_persons","personToBeDeleted","deletedPerson","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.99d447f6.chunk.js","sourcesContent":["import React, { useState } from \"react\";\n\nconst Filter = ({ filterToApp }) => {\n  const [newFilter, setNewFilter] = useState(\"\");\n\n  const handleFilterChange = event => {\n    setNewFilter(event.target.value);\n    filterToApp(event.target.value);\n  };\n  return (\n    <>\n      <p>filter shown with</p>\n      <input value={newFilter} onChange={handleFilterChange} />\n      <br />\n      <br />\n    </>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Person = ({ data, deletePerson }) => {\n  return (\n    <>\n      <p>\n        {data.name} {data.number}\n      </p>\n\n      <button onClick={() => deletePerson(data.id)}>poista</button>\n    </>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./person\";\n\nconst Persons = ({ dataList, filter, deleteContact }) => {\n  const list = () =>\n    dataList\n      .filter(person =>\n        person.name.toLowerCase().startsWith(filter.toLowerCase())\n      )\n      .map(person => (\n        <Person key={person.name} data={person} deletePerson={deleteContact} />\n      ));\n\n  return <>{list()}</>;\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst style = {\n  color: \"green\",\n  background: \"lightgrey\",\n  fontSize: 20,\n  borderStyle: \"solid\",\n  borderRadius: 5,\n  padding: 10,\n  marginBottom: 10\n};\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div style={style}>{message}</div>;\n};\n\nexport default Notification;\n","import React from \"react\";\n\nconst style = {\n  color: \"red\",\n  background: \"lightgrey\",\n  fontSize: 20,\n  borderStyle: \"solid\",\n  borderRadius: 5,\n  padding: 10,\n  marginBottom: 10\n};\n\nconst Error = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div style={style}>{message}</div>;\n};\n\nexport default Error;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n};\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n};\n\nconst deletePerson = id => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then(response => response.data);\n};\n\nexport default { getAll, create, update, deletePerson };\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/filter\";\nimport Persons from \"./components/persons\";\nimport Notification from \"./components/notification\";\nimport Error from \"./components/error\";\nimport PersonService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notification, setNotification] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    PersonService.getAll().then(persons => {\n      setPersons(persons);\n    });\n  }, []);\n\n  const deleteItem = id => {\n    let personToBeDeleted = persons.find(person => person.id === id);\n    let confirmed = window.confirm(\"Delete \" + personToBeDeleted.name + \"?\");\n\n    if (confirmed === true) {\n      PersonService.deletePerson(id).then(deletedPerson => {\n        setPersons(persons.filter(person => person.id !== id));\n        setNotification(\"Deleted \" + personToBeDeleted.name);\n        setTimeout(() => {\n          setNotification(null);\n        }, 3000);\n      });\n    }\n  };\n\n  const addItem = event => {\n    event.preventDefault();\n    let person = persons.find(person => person.name === newName);\n    if (person !== undefined) {\n      let confirmed = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      );\n\n      if (confirmed === true) {\n        const changedPerson = { ...person, number: newNumber };\n        PersonService.update(changedPerson.id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(\n              persons.map(person =>\n                person.id !== returnedPerson.id ? person : returnedPerson\n              )\n            );\n            setNotification(\"Updated \" + returnedPerson.name);\n            setTimeout(() => {\n              setNotification(null);\n            }, 3000);\n          })\n          .catch(error => {\n            setErrorMessage(\n              \"Information of \" +\n                changedPerson.name +\n                \" has already been removed from server\"\n            );\n            setTimeout(() => {\n              setErrorMessage(null);\n            }, 3000);\n          });\n      }\n\n      setNewName(\"\");\n      setNewNumber(\"\");\n      return;\n    }\n\n    PersonService.create({ name: newName, number: newNumber }).then(\n      returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n        setNotification(\"Created \" + returnedPerson.name);\n        setTimeout(() => {\n          setNotification(null);\n        }, 3000);\n      }\n    );\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const filterToApp = newFilter => {\n    setFilter(newFilter);\n  };\n\n  const handleItemChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={notification} />\n      <Error message={errorMessage} />\n\n      <Filter filterToApp={filterToApp} />\n\n      <h2>Add a new</h2>\n\n      <form onSubmit={addItem}>\n        <div>\n          name: <input value={newName} onChange={handleItemChange} />\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <Persons dataList={persons} filter={filter} deleteContact={deleteItem} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}